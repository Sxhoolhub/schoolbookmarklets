javascript:krazete:var turn=Math.random()<.5?0:1,unit=100/11,menu=document.createElement(%22div%22),board=(menu.style.position=%22fixed%22,menu.style.top=%2250%25%22,menu.style.left=%2250%25%22,menu.style.height=9*unit+%22vmin%22,menu.style.width=9*unit+%22vmin%22,menu.style.transform=%22translate(-50%25,-50%25)%22,menu.style.zIndex=9999,menu.innerHTML=%22%3Ca%20style=%27background:white;position:absolute;left:100%25;cursor:pointer%27%20onClick=%27menu.remove()%27%3Eexit%3C/a%3E%22,document.body.appendChild(menu),document.createElement(%22div%22));board.style.background=%22rgba(255,255,255,0.9)%22,board.style.position=%22absolute%22,board.style.top=0,board.style.left=0,board.style.height=9*unit+%22vmin%22,board.style.width=9*unit+%22vmin%22,board.mark=null,menu.appendChild(board),BOXES=[],boxes=[[],[],[],[],[],[],[],[],[]];for(var%20i=0;i%3C3;i++)for(var%20j=0;j%3C3;j++){var%20BOX=document.createElement(%22div%22);BOX.style.position=%22absolute%22,BOX.style.top=100*i/3+%22%25%22,BOX.style.left=100*j/3+%22%25%22,BOX.style.height=100/3+%22%25%22,BOX.style.width=100/3+%22%25%22,BOX.mark=null;for(var%20k=0;k%3C3;k++)for(var%20l=0;l%3C3;l++){var%20box=document.createElement(%22div%22);box.setAttribute(%22onMouseOver%22,%22this.style.background=%27rgba(0,0,0,0.25)%27%22),box.setAttribute(%22onMouseOut%22,%22this.style.background=%27transparent%27%22),box.setAttribute(%22onClick%22,%22pick(this)%22),box.style.position=%22absolute%22,box.style.top=100*k/3+%22%25%22,box.style.left=100*l/3+%22%25%22,box.style.height=100/3+%22%25%22,box.style.width=100/3+%22%25%22,box.macro=3*i+j,box.micro=3*k+l,box.mark=null,boxes[3*i+j].push(box),box.macro%252==0?box.style.boxShadow=%220%200%201vmin%20black%20inset%22:box.style.boxShadow=%220%200%201vmin%20gray%20inset%22,BOX.appendChild(box)}BOXES.push(BOX),board.appendChild(BOX)}function%20check(e){var%20t=0;null!=e[0].mark&&(e[0].mark==e[1].mark&&e[1].mark==e[2].mark||e[0].mark==e[3].mark&&e[3].mark==e[6].mark)&&(t=1),null!=e[4].mark&&(e[3].mark==e[4].mark&&e[4].mark==e[5].mark||e[1].mark==e[4].mark&&e[4].mark==e[7].mark||e[0].mark==e[4].mark&&e[4].mark==e[8].mark||e[2].mark==e[4].mark&&e[4].mark==e[6].mark)&&(t=1),(t=null!=e[8].mark&&(e[6].mark==e[7].mark&&e[7].mark==e[8].mark||e[2].mark==e[5].mark&&e[5].mark==e[8].mark)?1:t)?marker(e[0].parentNode):null!=e[0].mark&&null!=e[1].mark&&null!=e[2].mark&&null!=e[3].mark&&null!=e[4].mark&&null!=e[5].mark&&null!=e[6].mark&&null!=e[7].mark&&null!=e[8].mark&&draw(e[0].parentNode)}function%20draw(e){e.mark=2,disable(e),e.style.pointerEvents=%22none%22}function%20marker(e){if(0==turn){for(var%20t=document.createElement(%22div%22),r=(t.style.boxSizing=%22border-box%22,t.style.position=%22absolute%22,t.style.top=%2210%25%22,t.style.left=%2210%25%22,t.style.height=%2280%25%22,t.style.width=%2280%25%22,0),a=0;a%3C9;a++)if(e==BOXES[a]){r=1;break}t.style.border=unit*(e==board?9:r?3:1)/5+%22vmin%20solid%20black%22,t.style.borderRadius=%2250%25%22,e.appendChild(t)}else{t=document.createElement(%22div%22),t=(t.style.boxSizing=%22border-box%22,t.style.background=%22black%22,t.style.position=%22absolute%22,t.style.top=%2210%25%22,t.style.left=%2240%25%22,t.style.height=%2280%25%22,t.style.width=%2220%25%22,t.style.transform=%22rotate(45deg)%22,e.appendChild(t),t.cloneNode());t.style.transform=%22rotate(-45deg)%22,e.appendChild(t)}e.mark=turn,disable(e),e.style.pointerEvents=%22none%22}function%20pick(e){if(marker(e),check(boxes[e.macro]),check(BOXES),turn=0%3Cturn?0:1,null==BOXES[e.micro].mark){for(i=0;i%3C9;i++)for(var%20t=0;t%3C9;t++)disable(boxes[i][t]);for(i=0;i%3C9;i++)null==board.mark&&enable(boxes[e.micro][i])}else%20for(i=0;i%3C9;i++)for(t=0;t%3C9;t++)null==board.mark&&enable(boxes[i][t]);disable(e)}function%20disable(e){e.style.background=%22rgba(0,0,0,0.25)%22,e.setAttribute(%22onMouseOver%22,%22%22),e.setAttribute(%22onMouseOut%22,%22%22),e.setAttribute(%22onClick%22,%22%22)}function%20enable(e){null==e.mark&&(e.style.background=%22transparent%22),e.setAttribute(%22onMouseOver%22,%22this.style.background=%27rgba(0,0,0,0.25)%27%22),e.setAttribute(%22onMouseOut%22,%22this.style.background=%27transparent%27%22),e.setAttribute(%22onClick%22,%22pick(this)%22)}
